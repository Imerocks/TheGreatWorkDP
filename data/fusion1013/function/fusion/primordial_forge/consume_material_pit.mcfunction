##
 # consume_material_pit.mcfunction
 # 
 #
 # Created by Fusion1013.
##


## Summon display blocks matching material pit blocks

## Layer 1
summon block_display ~ ~ ~ {transformation:{translation:[-1.5, -0.5, -1.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[-1.5, -0.5, -0.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[-1.5, -0.5, .5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[-0.5, -0.5, -1.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[-0.5, -0.5, -0.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[-0.5, -0.5, .5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[.5, -0.5, -1.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[.5, -0.5, -0.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[.5, -0.5, .5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}

## Layer 2
summon block_display ~ ~ ~ {transformation:{translation:[-1.5, 0.5, -1.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[-1.5, 0.5, -0.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[-1.5, 0.5, .5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[-0.5, 0.5, -1.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[-0.5, 0.5, -0.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[-0.5, 0.5, .5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[.5, 0.5, -1.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[.5, 0.5, -0.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[.5, 0.5, .5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}

## Layer 3
summon block_display ~ ~ ~ {transformation:{translation:[-1.5, 1.5, -1.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[-1.5, 1.5, -0.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[-1.5, 1.5, .5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[-0.5, 1.5, -1.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[-0.5, 1.5, -0.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[-0.5, 1.5, .5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[.5, 1.5, -1.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[.5, 1.5, -0.5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}
summon block_display ~ ~ ~ {transformation:{translation:[.5, 1.5, .5],left_rotation:[0,0,0,1],right_rotation:[0,0,0,1],scale:[1,1,1]},block_state:{Name:"minecraft:obsidian"},Tags:["material_pit_display"]}

## Set correct block for display
execute if block ~ ~ ~ obsidian as @e[type=block_display,distance=..2,tag=material_pit_display] run data merge entity @s {block_state:{Name:"minecraft:obsidian"}}
execute if block ~ ~ ~ redstone_block as @e[type=block_display,distance=..2,tag=material_pit_display] run data merge entity @s {block_state:{Name:"minecraft:redstone_block"}}
execute if block ~ ~ ~ iron_block as @e[type=block_display,distance=..2,tag=material_pit_display] run data merge entity @s {block_state:{Name:"minecraft:iron_block"}}
execute if block ~ ~ ~ gold_block as @e[type=block_display,distance=..2,tag=material_pit_display] run data merge entity @s {block_state:{Name:"minecraft:gold_block"}}

## Replace material pit blocks with air
fill ~1 ~ ~1 ~-1 ~2 ~-1 air

## Start display block animation
execute as @e[tag=material_pit_display,distance=..2,type=block_display] at @s run scoreboard players set @s material_pit 1
schedule function fusion1013:fusion/primordial_forge/animate_material_pit 10